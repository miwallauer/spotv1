<!DOCTYPE html>
<html lang="en">
<head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify</title>

    <!-- FONT GOOGLE POPPINS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

    <style>
        body, html {
            height: 100%;
            margin: 0;
            display: flex;
            background-color: rgb(24, 24, 24);
            justify-content: center;
            align-items: center;
        }
        .centralizado {
            width: 300px;
            background-color: rgb(0, 0, 0);
            text-align: center;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
        }
        * {
            font-family: "Poppins", sans-serif;
            color: white;
        }
        #logocentral {
            width: 90px;
        }
        #textoprincipalsptfy {
            font-size: 23px;
            font-weight: 700;
        }
        #descricaoiniciospotify {
            color: rgb(168, 168, 168);
            margin-top: -10px;
            font-size: 15px;
        }
        #descricaoiniciospotifyy {
            color: rgb(168, 168, 168);
            font-size: 14px;
            font-weight: 500;
        }
        #logincadastro {
            display: flex;
            font-size: 15px;
            width: 100%;
            flex-direction: column;
            text-align: left;
        }
        #inputcadastro, #nomeInput {
            padding: 13px 10px;
            color: rgb(168, 168, 168);
            border-radius: 10px;
            margin-top: 9px;
            border: 1px solid rgb(168, 168, 168);
            background-color: rgb(24, 24, 24);
        }
        #botaoprocximetapa {
            padding: 13px 10px;
            background-color: rgb(1, 214, 97);
            color: white;
            margin-top: 20px;
            border-radius: 50px;
            border: 1px solid rgb(1, 214, 97);
            text-decoration: none;
            width: 90%;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="centralizado">
        <!-- LOGO -->
        <img src="images/logowhite.png" id="logocentral">

        <!-- TEXTO -->
        <p id="textoprincipalsptfy">
            Seja bem-vindo ao<br>Spotify Brasil
        </p>

        <!-- DESCRIÇÃO -->
        <p id="descricaoiniciospotify">
            Faça seu <b>cadastro</b> e ganhe <br>dinheiro ouvindo músicas de <br>grandes artistas e ajude a moldar o futuro da música no Brasil!
        </p>

        <!-- FORMULÁRIO -->
        <div id="logincadastro">
            <input type="text" placeholder="Nome" id="nomeInput">
            <input type="text" placeholder="Sobrenome" id="inputcadastro">
            <input type="text" placeholder="Seu melhor e-mail aqui" id="inputcadastro">
        </div>

        <!-- BOTÃO -->
        <button onclick="redirecionar()" id="botaoprocximetapa">Cadastrar e ganhar</button>

        <!-- SCRIPT DE REDIRECIONAMENTO COM UTMS -->
        <script>
            function redirecionar() {
                const nome = document.getElementById('nomeInput').value;

                // Monta as UTMs capturadas
                const utmParams = ['utm_source', 'utm_medium', 'utm_campaign', 'utm_term', 'utm_content']
                    .map(param => {
                        const value = localStorage.getItem(param);
                        return value ? `${param}=${encodeURIComponent(value)}` : '';
                    })
                    .filter(Boolean)
                    .join('&');

                // Monta a URL final
                const urlDestino = `02/?nome=${encodeURIComponent(nome)}${utmParams ? '&' + utmParams : ''}`;

                // Redireciona
                window.location.href = urlDestino;
            }
        </script>

        <p id="descricaoiniciospotifyy">
            Este site é protegido pelo reCAPTCHA e está sujeito à <b style="color: rgb(1, 214, 97); font-weight: 500;">Política de Privacidade</b> e aos <b style="color: rgb(1, 214, 97); font-weight: 500;">Termos de Serviço do Google.</b>
        </p>
    </div>

    <!-- SCRIPT DO UTMFY COM PROTEÇÃO PARA SPOTIFY -->
    <script>
      if (!document.querySelector('iframe[src*="open.spotify.com"]')) {
        var s = document.createElement('script');
        s.src = 'https://cdn.utmify.com.br/scripts/utms/latest.js';
        s.async = true;
        s.defer = true;
        s.setAttribute('data-utmify-prevent-xcod-sck', '');
        s.setAttribute('data-utmify-prevent-subids', '');
        s.setAttribute('data-utmify-prevent-iframes', '');
        document.body.appendChild(s);
      }
    </script>

</body>
</html>
